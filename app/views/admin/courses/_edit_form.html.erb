a<%= form_for([:admin, @course]) do |f| %>
  <%= render 'shared/error_messages', obj: f.object %>

  <%= f.label :name %>
  <%= f.text_field :name, class: 'form_control' %>

  <%= f.label :description %>
  <%= f.text_area :description, class: 'form_control' %>

  <%= f.label :begin_at %>
  <%= f.date_select :begin_at, :start_year => Date.current.year,
               :end_year => Date.current.year + 5, class: 'form-control' %>

  <%= f.label :end_at %>
  <%= f.date_select :end_at, :start_year => Date.current.year,
                :end_year => Date.current.year + 5, class: 'form-control' %>

  <% Subject.all.each do |subject| %>
    <%= f.fields_for :course_subjects, subject do |b| %>
      <%= b.label :_destroy do %>
        <p>
          <%= subject.name %>
          <%= b.check_box :_destroy,
           {checked: @course.subjects.include?(subject)}, false, true %>
        </p>
      <% end %>

      <%= b.hidden_field :subject_id, value: subject.id %>
      <%= b.hidden_field :id, value: @course.course_subject_id(subject) %>
    <% end %>
  <% end %>



  <%= f.submit "Save Edit", class: "btn btn-primary" %>
<% end %>